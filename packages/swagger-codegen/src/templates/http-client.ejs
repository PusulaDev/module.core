<%
const { apiConfig } = it;
%>

import { FetchHTTPClient, type IHTTPClientOptions } from "@pusula/module.core";
import { createError } from "../utils"

export const createHttpClient = (options: Pick<IHTTPClientOptions, "protocol"|"baseUrl"|"queryStringFormat">) => {
    return new FetchHTTPClient({
        protocol: options.protocol,
        baseUrl: options.baseUrl,
        queryStringFormat: options.queryStringFormat,
        preventRequestDuplication: true,
        headers: {
            'content-type': 'application/json',
        },
        createErrorFn: createError,
    });
}
