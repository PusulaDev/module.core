<%
const { apiConfig } = it;
%>

import { FetchHTTPClient, IHTTPClientOptions } from "@pusula/module.core";
import { createError } from "../utils"

export const createHttpClient = (options: Pick<IHTTPClientOptions, "protocol"|"baseUrl">) => {
    const coreHttpClient = new FetchHTTPClient({
        protocol: options.protocol,
        baseUrl: options.baseUrl,
        preventRequestDuplication: true,
        headers: {
            'content-type': 'application/json',
        },
        createErrorFn: createError,
    });

    return coreHttpClient;
}